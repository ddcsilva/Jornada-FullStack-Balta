@page "/categorias/adicionar"
@inherits CriarCategoriaPage

<MudContainer MaxWidth="MaxWidth.Medium">
    <MudPaper Class="pa-8 mt-4" Elevation="4">
        <MudText Typo="Typo.h5">Nova Categoria</MudText>
        <EditForm Model="@Model" OnValidSubmit="OnValidSubmitAsync">
            <DataAnnotationsValidator />

            <MudTextField Label="Nome"
                          HelperText="Campo obrigatório"
                          @bind-Value="Model.Nome"
                          For="@(() => Model.Nome)"
                          Required="true"
                          Variant="Variant.Outlined"
                          Margin="Margin.Normal" />

            <MudTextField Label="Descrição"
                          Lines="5"
                          HelperText="Campo obrigatório"
                          @bind-Value="Model.Descricao"
                          For="@(() => Model.Descricao)"
                          Required="true"
                          Variant="Variant.Outlined"
                          Margin="Margin.Normal" />

            <MudDivider Class="my-4" />

            @if (EstaOcupado)
            {
                <MudProgressCircular Indeterminate="true" Color="Color.Primary" />
            }
            else
            {
                <MudButton ButtonType="ButtonType.Submit"
                           Variant="Variant.Filled"
                           Color="Color.Primary"
                           FullWidth="true">
                    Salvar
                </MudButton>
            }
        </EditForm>
    </MudPaper>
</MudContainer>
